import{r as A,j as e}from"./index-D2Uuihf3.js";import{u as m,A as k,T as R,a as N,M as x,S as D}from"./productStore-C0Tm424L.js";import{n as T,C as b,A as B,I as F,P as O,S as j,N as _,a as L,b as E,T as G,L as $}from"./index.browser-BWHWXJB4.js";import{a as i,T as s,P as f,b as v}from"./Button-3Hdf4XRc.js";import{I as y}from"./IconButton-Dp_w-YX6.js";import{T as n,I as h}from"./TextField-Dz9o-pMy.js";import{S as l}from"./Stack-CVcwJnGe.js";import{G as p}from"./Grid-6wIynBPG.js";import{D as M}from"./Delete-BFmtk3NK.js";import{F as H}from"./FitnessCenter-D2BQzxT0.js";import"./Select-Dc0E7p3U.js";import"./useThemeProps-ChILr0VP.js";import"./SwitchBase-D0Tayf7G.js";const C=[{value:"tag",label:"Tag",icon:e.jsx(G,{})},{value:"fitness_center",label:"Dumbbell",icon:e.jsx(H,{})},{value:"local_fire_department",label:"Fire",icon:e.jsx($,{})},{value:"shopping_bag",label:"Bag",icon:e.jsx(D,{})}],U=[{value:"black",color:"#000000"},{value:"white",color:"#ffffff"},{value:"red",color:"#ef4444"},{value:"blue",color:"#3b82f6"},{value:"yellow",color:"#f2b90d"}];function oe(){const w=m(r=>r.pushProducttoDb),I=m(r=>r.categories),[t,u]=A.useState({name:"",id:T(),category:"",detail:"",price:void 0,originalPrice:void 0,icon:"fitness_center",imageColor:"black",src:"",sale:!1,isNew:!0,sizes:[{label:"S",price:20}]}),a=(r,o)=>{u(c=>({...c,[r]:o}))},g=(r,o,c)=>{const d=[...t.sizes||[]];d[r]={...d[r],[o]:c},u(z=>({...z,sizes:d}))},S=()=>{u(r=>({...r,sizes:[...r.sizes||[],{label:"",price:0}]}))},P=r=>{u(o=>({...o,sizes:o.sizes?.filter((c,d)=>d!==r)}))},W=async()=>{try{if(console.log("Saving product...",t),!t.name||!t.price){alert("Please fill in at least Name and Price");return}await w(t),alert("Product saved successfully!")}catch(r){console.error("Error saving product:",r),alert("Failed to save product")}};return e.jsxs(i,{sx:{minHeight:"100vh",bgcolor:"background.default",pb:10},children:[e.jsx(k,{position:"sticky",color:"default",elevation:0,sx:{bgcolor:"background.paper",borderBottom:1,borderColor:"divider"},children:e.jsxs(R,{children:[e.jsx(y,{onClick:()=>window.history.back(),edge:"start",children:e.jsx(N,{})}),e.jsx(s,{variant:"h6",component:"h1",sx:{flexGrow:1,textAlign:"center",pr:5,fontWeight:"bold"},children:"Add Product"})]})}),e.jsxs(b,{maxWidth:"sm",sx:{py:3,display:"flex",flexDirection:"column",gap:3},children:[e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:"bold",textTransform:"uppercase"},children:"Product Image"}),e.jsx(n,{fullWidth:!0,placeholder:"Paste image URL here...",value:t.src,onChange:r=>a("src",r.target.value),InputProps:{endAdornment:e.jsx(h,{position:"end",children:e.jsx(B,{color:"action"})}),sx:{borderRadius:3}}}),e.jsx(i,{sx:{mt:2,height:160,borderRadius:3,border:"2px dashed",borderColor:"divider",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",position:"relative",overflow:"hidden",bgcolor:"action.hover"},children:t.src?e.jsx(i,{component:"img",src:t.src,sx:{width:"100%",height:"100%",objectFit:"cover"}}):e.jsxs(e.Fragment,{children:[e.jsx(F,{sx:{fontSize:40,opacity:.5,mb:1}}),e.jsx(s,{variant:"caption",sx:{opacity:.7},children:"Image preview will appear here"})]})})]}),e.jsxs(l,{spacing:2,children:[e.jsx(l,{direction:"row",spacing:2,children:e.jsxs(i,{flex:1,children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Product Name"}),e.jsx(n,{fullWidth:!0,placeholder:"e.g. Protein Whey",value:t.name,onChange:r=>a("name",r.target.value)})]})}),e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Category"}),e.jsxs(n,{select:!0,fullWidth:!0,value:t.category,onChange:r=>a("category",r.target.value),children:[e.jsx(x,{value:"",disabled:!0,children:"Select Category"}),I.map(r=>e.jsx(x,{value:r,children:r},r))]})]}),e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Detail"}),e.jsx(n,{fullWidth:!0,multiline:!0,minRows:3,placeholder:"Describe the product features...",value:t.detail,onChange:r=>a("detail",r.target.value)})]})]}),e.jsx(i,{sx:{my:1,borderTop:1,borderColor:"divider",borderStyle:"dashed"}}),e.jsxs(p,{container:!0,spacing:2,children:[e.jsxs(p,{size:6,children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Price"}),e.jsx(n,{fullWidth:!0,type:"number",placeholder:"0.00",value:t.price,onChange:r=>a("price",Number(r.target.value)),InputProps:{startAdornment:e.jsx(h,{position:"start",children:"$"})}})]}),e.jsxs(p,{size:6,children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Original Price"}),e.jsx(n,{fullWidth:!0,type:"number",placeholder:"0.00",value:t.originalPrice||"",onChange:r=>a("originalPrice",Number(r.target.value)),InputProps:{startAdornment:e.jsx(h,{position:"start",children:"$"})}})]})]}),e.jsxs(l,{spacing:2,children:[e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Icon"}),e.jsx(n,{select:!0,fullWidth:!0,value:t.icon,onChange:r=>a("icon",r.target.value),InputProps:{startAdornment:e.jsx(h,{position:"start",children:C.find(r=>r.value===t.icon)?.icon})},children:C.map(r=>e.jsx(x,{value:r.value,children:e.jsxs(l,{direction:"row",alignItems:"center",spacing:1,children:[r.icon,e.jsx("span",{children:r.label})]})},r.value))})]}),e.jsxs(i,{children:[e.jsx(s,{variant:"subtitle2",sx:{mb:1,fontWeight:600},children:"Image Color"}),e.jsx(l,{direction:"row",spacing:1.5,sx:{overflowX:"auto",py:1},children:U.map(r=>e.jsx(i,{onClick:()=>a("imageColor",r.value),sx:{width:40,height:40,borderRadius:"50%",bgcolor:r.color,border:r.value==="white"?"1px solid #e5e7eb":"none",cursor:"pointer",ring:t.imageColor===r.value?2:0,ringColor:"primary.main",ringOffset:2,boxShadow:1,transition:"all 0.2s",transform:t.imageColor===r.value?"scale(1.1)":"scale(1)"}},r.value))})]})]}),e.jsxs(f,{variant:"outlined",sx:{borderRadius:3,overflow:"hidden"},children:[e.jsxs(i,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between",borderBottom:"1px dashed",borderColor:"divider"},children:[e.jsxs(l,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(i,{sx:{width:32,height:32,borderRadius:"50%",bgcolor:"primary.light",color:"primary.main",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(O,{fontSize:"small"})}),e.jsx(s,{fontWeight:500,children:"On Sale"})]}),e.jsx(j,{checked:t.sale,onChange:r=>a("sale",r.target.checked)})]}),e.jsxs(i,{sx:{p:2,display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs(l,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(i,{sx:{width:32,height:32,borderRadius:"50%",bgcolor:"primary.light",color:"primary.main",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(_,{fontSize:"small"})}),e.jsx(s,{fontWeight:500,children:"New Arrival"})]}),e.jsx(j,{checked:t.isNew,onChange:r=>a("isNew",r.target.checked)})]})]}),e.jsxs(i,{children:[e.jsx(s,{variant:"h6",sx:{mb:2,fontWeight:"bold"},children:"Available Sizes"}),e.jsxs(l,{spacing:2,children:[t.sizes?.map((r,o)=>e.jsxs(l,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(n,{sx:{width:80},placeholder:"Label",value:r.label,onChange:c=>g(o,"label",c.target.value),inputProps:{style:{textAlign:"center"}}}),e.jsx(n,{fullWidth:!0,placeholder:"0.00",type:"number",value:r.price,onChange:c=>g(o,"price",Number(c.target.value)),InputProps:{startAdornment:e.jsx(h,{position:"start",children:"$"})}}),e.jsx(y,{color:"error",onClick:()=>P(o),sx:{bgcolor:"error.main",color:"white","&:hover":{bgcolor:"error.dark"},borderRadius:2},children:e.jsx(M,{})})]},o)),e.jsx(v,{variant:"outlined",startIcon:e.jsx(L,{}),onClick:S,sx:{py:1.5,borderStyle:"dashed",borderWidth:2,borderRadius:3,"&:hover":{borderWidth:2}},children:"Add Size Variant"})]})]})]}),e.jsx(f,{sx:{position:"fixed",bottom:0,left:0,right:0,p:2,bgcolor:"background.paper",borderTop:1,borderColor:"divider",zIndex:10},elevation:4,children:e.jsx(b,{maxWidth:"sm",children:e.jsx(v,{fullWidth:!0,variant:"contained",size:"large",startIcon:e.jsx(E,{}),onClick:W,sx:{height:56,borderRadius:3,fontSize:"1.1rem",fontWeight:"bold",boxShadow:2},children:"Save Product"})})})]})}export{oe as component};
